



@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
{
    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "ml-auto" }))
    {
        @Html.AntiForgeryToken()

        <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
@*            <div class="navbar-collapse collapse w-100 order-3 dual-collapse2 form-control">*@
            <ul class="navbar-nav ml-1">

               
                <li class="nav-item">
                    @Html.ActionLink("Roles", "Index", "RolesAdmin", null, new { @class = "nav-link" })
                </li>

                 <li class="nav-item">
                     @Html.ActionLink("Usuarios", "Index", "UsersAdmin", null, new { @class = "nav-link" })
                 </li>
                 <li class="nav-item">
                   @Html.ActionLink("Cursos", "Index", "Cursos", null, new { @class = "nav-link"  })
                 </li>
                   <li class="nav-item">
                 @Html.ActionLink("Grupos", "Index", "GruposAdmin", null, new { @class = "nav-link"   })
                 </li>

                 
                

                    <li class="nav-item">
                     <a  class="nav-link" href="#"> <i class="fa-solid fa-user "></i> Acceso: Administrador </a>
                 </li>
                  <li class="nav-item">
                     <a  class="nav-link" asp-area="Identity" asp-page="/Account/Logout" title="Logout"> <i class="fa-solid fa-arrow-right-from-bracket"></i> Salir </a>
                 </li>

            </ul>
        </div>
    }
}
else if (User.Identity.IsAuthenticated && User.IsInRole("Profe"))
{

    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "ml-auto" }))
    {
        @Html.AntiForgeryToken()
        <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
           
            <ul class="navbar-nav ml-auto">

                <li class="nav-item">
                    @Html.ActionLink("Grupos", "Index", "GruposAdmin", null, new { @class = "nav-link"  })
                </li>
                 
                 <li class="nav-item">
                     <a  class="nav-link" asp-area="Identity" asp-page="/Account/Logout" title="Logout"><i class="fa-solid fa-arrow-right-from-bracket"></i> Salir </a>
                 </li>

                    <li class="nav-item">
                     <a  class="nav-link" href="#"> <i class="fa-solid fa-user"></i> Acceso: Profesor </a>
                 </li>

            </ul>

        </div>
    }
}
else if (User.Identity.IsAuthenticated && User.IsInRole("Alumno"))
{

    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "ml-auto" }))
    {
        @Html.AntiForgeryToken()
        <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
            <ul class="navbar-nav ml-auto">
                
                <li class="nav-item">
                     @Html.ActionLink("Mis Cursos", "Index", "GruposAdmin", null, new { @class = "nav-link"  })
                </li>

                   <li class="nav-item">
                     <a  class="nav-link" asp-area="Identity" asp-page="/Account/Logout" title="Logout"> <i class="fa-solid fa-arrow-right-from-bracket"></i> Salir  </a>
                 </li>

                    <li class="nav-item">
                     <a  class="nav-link" href="#"> <i class="fa-solid fa-user"></i>  Acceso: Alumno </a>
                 </li>

            </ul>
        </div>
    }
}
else if (User.Identity.IsAuthenticated)
{

    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "ml-auto" }))
    {
        @Html.AntiForgeryToken()
        <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
            <ul class="navbar-nav ml-auto">

                <li>
                    <div class="dropdown">
                        <button class="btn btn-outline-success dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Alumno
                        </button>
                        <div class="dropdown-menu dropdown-menu-right mt-2" aria-labelledby="dropdownMenuButton">
                            @Html.ActionLink("Perfil", "Index", "Manage", routeValues: null, htmlAttributes: new { title = "Manage", @class = "dropdown-item" })

                            <a class="dropdown-item" href="javascript:document.getElementById('logoutForm').submit()">Cerrar Sesión</a>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    }
}

else
{
     <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
            <ul class="navbar-nav ms-auto">
       <li class="nav-item">
            <a class="nav-link" asp-area="Identity" asp-page="/Account/Register"> <i class="fa-solid fa-address-card"></i> Registrarse</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" asp-area="Identity" asp-page="/Account/Login"> <i class="fa-solid fa-arrow-right-to-bracket"></i> Inicio de sesión</a>
        </li>
          </ul>
    </div>
}

